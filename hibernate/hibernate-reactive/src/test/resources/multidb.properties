# HttpClient config
io.quarkus.ts.hibernate.reactive.http.SomeApi/mp-rest/url=http://localhost:${quarkus.http.port}

# TODO: drop when https://github.com/quarkusio/quarkus/issues/46890 gets fixed
quarkus.native.monitoring=none

# for whatever reason quarkus requires to have "db-kind" defined for default datasource even though we are not using default datasource
quarkus.datasource.db-kind=postgresql

# define datasources
quarkus.datasource."main".reactive.url=${main.url}
quarkus.datasource."main".db-kind=postgresql
quarkus.datasource."main".username=${db.username}
quarkus.datasource."main".password=${db.password}

quarkus.datasource."fruits".reactive=true
quarkus.datasource."fruits".reactive.url=${fruits.url}
quarkus.datasource."fruits".db-kind=postgresql
quarkus.datasource."fruits".username=${db.username}
quarkus.datasource."fruits".password=${db.password}

quarkus.datasource."cars".reactive=true
quarkus.datasource."cars".reactive.url=${cars.url}
quarkus.datasource."cars".db-kind=mysql
quarkus.datasource."cars".username=${db.username}
quarkus.datasource."cars".password=${db.password}

# define persistence units
quarkus.hibernate-orm."cars".datasource=cars
quarkus.hibernate-orm."cars".packages=io.quarkus.ts.hibernate.reactive.multidbSources.thirdDatabase
quarkus.hibernate-orm."cars".schema-management.strategy=drop-and-create
quarkus.hibernate-orm."cars".sql-load-script=multidb_mysql_car_import.sql

quarkus.hibernate-orm."fruits".datasource=fruits
quarkus.hibernate-orm."fruits".packages=io.quarkus.ts.hibernate.reactive.multidbSources.secondDatabase
quarkus.hibernate-orm."fruits".schema-management.strategy=drop-and-create
quarkus.hibernate-orm."fruits".sql-load-script=multidb_postgres_fruit_import.sql

# define default persistence unit
quarkus.hibernate-orm.datasource=main
quarkus.hibernate-orm.packages=io.quarkus.ts.hibernate.reactive.database
quarkus.hibernate-orm.sql-load-script=multidb_postgres_main_import.sql
quarkus.hibernate-orm.schema-management.strategy=drop-and-create
quarkus.hibernate-orm.database.charset=utf-8
